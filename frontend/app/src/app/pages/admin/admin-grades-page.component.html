<div class="page">
  <div class="page-header">
    <div>
      <h1>Calificaciones</h1>
      <p>Registro y ajustes de evaluaciones.</p>
    </div>
  </div>

  <section class="card">
    <div class="card-head">
      <h3>{{ editingId ? 'Editar calificación' : 'Crear calificación' }}</h3>
      <button class="ghost" *ngIf="editingId" (click)="resetForm()">Cancelar</button>
    </div>
    <div class="form-grid">
      <input type="text" placeholder="matriculaId" [(ngModel)]="matriculaId" />
      <input type="number" placeholder="valor" [(ngModel)]="valor" />
      <input type="text" placeholder="feedback" [(ngModel)]="feedback" />
      <button class="primary" (click)="save()">{{ editingId ? 'Actualizar' : 'Crear' }}</button>
    </div>
    <p class="error" *ngIf="error">{{ error }}</p>
  </section>

  <section class="card">
    <div class="table-actions">
      <span class="muted">{{ grades.length }} calificaciones</span>
    </div>
    <table>
      <thead>
        <tr><th>ID</th><th>Matrícula</th><th>Valor</th><th>Feedback</th><th>Acción</th></tr>
      </thead>
      <tbody>
        <tr *ngFor="let item of grades">
          <td>{{ item.id }}</td>
          <td>{{ item.matriculaId }}</td>
          <td>{{ item.valor }}</td>
          <td>{{ item.feedback || '-' }}</td>
          <td class="actions">
            <button class="ghost" (click)="edit(item)">Editar</button>
            <button class="ghost danger" (click)="remove(item.id)">Eliminar</button>
          </td>
        </tr>
      </tbody>
    </table>
  </section>
</div>
